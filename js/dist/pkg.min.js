"use strict";!function(e,r){var n=function(e){var n=require("fs"),o=require("util"),i=o.format,t=require("aureooms-node-recursive-build"),s=require("uglify-js"),a=require("babel-core"),c=require("node.extend"),u=require("path"),l={name:r,src:r,out:r,base:0,rec:!1,flat:!0,babel:!1};e=c({},l,e);var p=e.name.replace("-",""),m=t({name:p,rec:e.rec,flat:e.flat});n.existsSync(e.out)||n.mkdirSync(e.out);var d,f=i("%s/%s%%s",e.out,e.name),b=u.normalize(i(f,".js")),g=u.normalize(i(f,".min.js")),v=u.normalize(i(f,".js.map")),y=function(e){var r=n.readFileSync(e);n.writeSync(d,r.toString()),n.writeSync(d,"\n")},S=function(e){n.writeSync(d,e),n.writeSync(d,"\n")};if(d=n.openSync(b,"w"),m(e.src,p,-e.base,y,S),n.closeSync(d),e.babel){e.babel===!0&&(e.babel={});var q=a.transformFileSync(b,e.babel);d=n.openSync(b,"w"),n.writeSync(d,q.code),n.closeSync(d)}var x=s.minify(b,{outSourceMap:v});n.writeFileSync(g,x.code),n.writeFileSync(v,x.map)};e.build=n,e.config="pkg.json";var o=function(e,n){var o=require("aureooms-node-recursive-require"),i=require("node.extend"),t={name:r,src:r,exports:r,base:0,index:"index.js",intro:"intro.js",outro:"outro.js",rec:!1,flat:!0,debug:!1};e=i({},t,e),e.name&&(e.name=e.name.replace("-",""));var s=o(e);s(e.src,e.exports,-e.base,n)};e.include=o;var i=function(e){var r=[],n=function(){r.push(arguments)};return o(e,n),r};e.list=i;var t=function(e){var r=require("path"),n=require("optimist").argv,o=require("qunit"),i=require("node.extend");o.options.maxBlockDuration=2e4,o.options.coverage=!0,o.options.log.tests=!1,o.options.log.testing=!1,o.options.log.assertions=!1,o.options.log.summary=!1,e.babel&&(o.options.deps=__dirname+"/../../node_modules/babel-core/polyfill"),i(!0,o.options,e.test);var t,s=n._.length||1,a=0,c=0,u=function(e,r){e&&(console.log("error : some weird error happened, the only clue we have is this error message -> "+e.message),process.exit(-1)),a+=r.failed,++c,c===s&&process.exit(a)},l=function(n){o.run({code:{path:r.normalize(e.code.main.join("/")),namespace:e.name.replace("-","")},tests:e.code.test.concat(n).join("/")},u)};for(t=0;t<n._.length;++t)n._[t]=["src",n._[t]+".js"].join("/");for(0===n._.length&&n._.push("index.js"),t=0;t<n._.length;++t)l(n._[t])};e.test=t}("undefined"==typeof exports?(void 0).pkg={}:exports);
//# sourceMappingURL=js/dist/pkg.js.map